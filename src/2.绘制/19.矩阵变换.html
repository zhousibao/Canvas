<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>A Simple Canvas Example</title>
</head>

<style type="text/css">
    body{
        background: #ddd;
        margin: 0;
    }
    #canvas{
        margin: 10px;
        padding: 10px;
        border:thin inset #aaa;
    }
</style>
<body>
<canvas id="canvas" width="600" height="600">
    Canvas not supported
</canvas>

</body>
<script>
/**
 *  translate(x, y) = transform(1,0,0,1,x,y);
 *  rotate(angle) = transform(cos(angle),sin(angle),-sin(angle),cos(angle),0,0);
 *  scale(a,b) = transform(a,0,0,b,0,0);

    transform(a,b,c,d,e,f)可以叠加使用
    setTransform(a,b,c,d,e,f) 清空之前的矩阵变换，执行新的矩阵变换  （translate，rotate，scale都属于矩阵变换）

 */
var canvas = document.getElementById('canvas'),
con = canvas.getContext('2d');

function draw(){
  con.strokeRect(0,0,200,100);
}

con.save();
con.translate(200, 200);
con.rotate(Math.PI/6);
con.scale(2,1);
draw();
con.restore();


con.save();
con.transform(1,0,0,1,200,200);
con.transform(Math.cos(Math.PI/6),Math.sin(Math.PI/6),-Math.sin(Math.PI/6),Math.cos(Math.PI/6),0,0);
con.transform(2,0,0,1,0,0);
draw();
con.restore();


// con.save();
// con.translate(200, 200);
// con.setTransform(1,0,0,1,200,200);
// con.setTransform(Math.cos(Math.PI/6),Math.sin(Math.PI/6),-Math.sin(Math.PI/6),Math.cos(Math.PI/6),0,0);
// con.setTransform(2,0,0,1,0,0);
// draw();
// con.restore();





</script>
</html>